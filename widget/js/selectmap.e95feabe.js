(function(e){function t(t){for(var n,s,o=t[0],u=t[1],l=t[2],f=0,p=[];f<o.length;f++)s=o[f],a[s]&&p.push(a[s][0]),a[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var u=r[o];0!==a[u]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={selectmap:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;i.push([2,"chunk-vendors","chunk-common"]),r()})({2:function(e,t,r){e.exports=r("e02c")},"31b0":function(e,t,r){},"62e3":function(e,t,r){"use strict";var n=r("31b0"),a=r.n(n);a.a},e02c:function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.suer?r("div",{staticClass:"PunchIn_btn",on:{click:e.skip}},[e._v("确定")]):r("div",{staticClass:"PunchIn_btn_gary"},[e._v("当前位置没有数据")])])},a=[],i=r("3135"),s={data:function(){return{suer:!1,page:"",name:""}},onShow:function(){var e=this,t=api.getGlobalData({key:"gpsData"});e.get("http://119.3.196.157:8080/WebService1.asmx/Trans80",{lon:t.WGS84[0],lat:t.WGS84[1]},"json").then(function(e){e&&e.xf80&&(t.f80={xf80:e.xf80,yf80:e.yf80},api.setGlobalData({key:"gpsData",value:t}))})},onReady:function(){this.page=api.pageParam.page,this.name=api.pageParam.name,this.wgmc=api.pageParam.wgmc,this.__initmap()},created:function(){},methods:{skip:function(){api.sendEvent({name:"mapskip",extra:{features:window.features}})},__initmap:function(){var e=this,t=this;window.allsure=function(){t.suer=!0},this.ocn.loading(this).show("地图组件加载中",!0),loadjs(["esri/Map","esri/Basemap","esri/views/MapView","esri/geometry/SpatialReference","esri/Graphic","esri/layers/TileLayer","esri/tasks/QueryTask","esri/tasks/support/Query","esri/layers/GraphicsLayer","esri/geometry/Point","esri/geometry/Circle"],function(t,r,n,a,s,o,u,l,c,f,p){e.ocn.loading(e).hide();var d=e,m=new o({url:i.mapurl}),y=new r({baseLayers:[m],title:"矢量底图",id:"myBasemap",thumbnailUrl:"custom.png"}),g=new f({x:40590867.949618064,y:3536459.5250139614,spatialReference:new a(2364)}),h=new t({basemap:y}),v=new n({container:"viewDiv",center:g,zoom:1,map:h}),w=new c;function b(e,t){console.log("addTreeByQuery:"+e);var r=[],n=new u({url:e}),a=new l({returnGeometry:!0,outFields:["*"]});a.where="1=1",n.execute(a).then(function(e){if(console.log("addTreeByQuery:"+JSON.stringify(e.features)),e.features.length>0){for(var n=0;n<e.features.length;n++)r[n]=new s({geometry:e.features[n].geometry,attributes:e.features[n].attributes,symbol:{type:"simple-marker",size:"5px",color:[226,119,40]}}),w.add(r[n]);t&&t()}}).catch(function(e){console.log("addTreeByQuery:"+e)})}function x(e,t,r){var n,a,i,o=[],c=new l({returnGeometry:!0,outFields:["*"]});if(c.geometry=e,1==t)c.spatialRelationship="contains",n="http://58.221.115.18:6080/arcgis/rest/services/NTLH/NTLHMapService/FeatureServer/6",i={type:"simple-marker",size:"10px",color:[0,255,0]},a=new u({url:n}),a.execute(c).then(function(e){if(e.features.length>0){window.allsure(),window.features=e.features;for(var t=0;t<e.features.length;t++)o[t]=new s({geometry:e.features[t].geometry,symbol:i,attributes:e.features[t].attributes}),w.add(o[t])}});else if(2==t){c.spatialRelationship="intersects",n="http://58.221.115.18:6080/arcgis/rest/services/NTLH/NTLHWGMapService/FeatureServer/0",i={type:"simple-fill",color:[0,0,255]};var f=new u({url:n});r&&(c.where="WGMC = '"+r+"'"),f.execute(c).then(function(e){if(e.features.length>0){window.allsure(),window.features=e.features;for(var t=0;t<e.features.length;t++)o[t]=new s({geometry:e.features[t].geometry,symbol:i,attributes:e.features[t].attributes}),w.add(o[t])}})}}function S(e,t,r,n){var i=new f({x:e,y:t,spatialReference:new a(2364)});v.goTo({target:i,zoom:8});var o={type:"simple-marker",color:[255,0,0],size:5},u=new s({geometry:i,symbol:o});w.add(u);var l=new p({center:i,radius:100}),c=new s({geometry:l,symbol:{type:"simple-fill",color:"rgba(0,0,255,0.1)",outline:{color:[0,255,0,.4],width:"1px"}}});w.add(c),x(c.geometry,r,n)}if(h.add(w),"JBAddNewRCXC"==e.name){var k=api.getGlobalData({key:"gpsData"});console.log("gpsData:"+JSON.stringify(k)),b("http://58.221.115.18:6080/arcgis/rest/services/NTLH/NTLHWGMapService/FeatureServer/0",function(){S(40581738.56317245,3542493.284842783,2,d.wgmc||"")})}else b("http://58.221.115.18:6080/arcgis/rest/services/NTLH/NTLHMapService/FeatureServer/5",function(){S(40582776.604100004,3540059.4605,1,d.wgmc||"")})})}}},o=s,u=(r("62e3"),r("2877")),l=Object(u["a"])(o,n,a,!1,null,null,null),c=l.exports,f=r("6912");Object(f["a"])(c)}});