(function(e){function t(t){for(var n,o,s=t[0],c=t[1],u=t[2],p=0,f=[];p<s.length;p++)o=s[p],i[o]&&f.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==i[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={mapgreen:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([3,"chunk-vendors","chunk-common"]),r()})({"0ad1":function(e,t,r){},3:function(e,t,r){e.exports=r("5564")},"3a71":function(e,t,r){"use strict";var n=r("0ad1"),i=r.n(n);i.a},5564:function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app"},[r("div",{staticClass:"back_btn",on:{click:e.apiback}}),r("map-pop",{attrs:{visible:e.visible,object:e.object},on:{"update:visible":function(t){e.visible=t}}})],1)},i=[],a=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=r("6ea6"),s=(r("5118"),r("3135"));function c(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach(function(t){Object(a["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l={data:function(){return{visible:!1,object:{}}},components:{MapPop:o["a"]},created:function(){var e=this;window.onload=function(){e.__initmap()}},methods:{__initmap:function(){var e=this,t=this;this.ocn.loading(this).show("地图组件加载中",!0),loadjs(["esri/Map","esri/Basemap","esri/views/MapView","esri/geometry/SpatialReference","esri/Graphic","esri/widgets/ScaleBar","esri/layers/TileLayer","esri/tasks/QueryTask","esri/tasks/support/Query","esri/layers/GraphicsLayer","esri/geometry/Point","esri/widgets/BasemapToggle"],function(r,n,i,a,o,c,l,p,f,b,v,d){e.ocn.loading(e).hide();var h=new l({url:s.mapurl}),m=new l({url:s.mapserver}),w=new n({baseLayers:[h],title:"影像底图",id:"imagetile",thumbnailUrl:"image.png"}),y=new n({baseLayers:[m],title:"矢量底图",id:"myBasemap",thumbnailUrl:"custom.png"}),g=new v({x:40583472.83066116,y:3536585.202348649,spatialReference:new a(2364)}),O=new r({basemap:y}),S=new i({container:"viewDiv",center:g,zoom:3,map:O}),T=new b;O.add(T),S.ui._removeComponents(["attribution","zoom"]);var E=new c({view:S,unit:"metric"});function M(e,t){var r=[],n=new p({url:e}),i=new f({returnGeometry:!0,outFields:["*"]});i.where="1=1",n.execute(i).then(function(e){if(e.features.length>0)for(var n=0;n<e.features.length;n++)r[n]=new o({geometry:e.features[n].geometry,attributes:u({},e.features[n].attributes,{layerid:t}),symbol:{type:"simple-marker",size:"15px",color:[226,119,40]}}),T.add(r[n]),T.visible=!1})}S.ui.add(E,{position:"bottom-left"}),M("http://58.221.115.18:6080/arcgis/rest/services/NTLH/NTLHMapService/FeatureServer/5",5),M("http://58.221.115.18:6080/arcgis/rest/services/NTLH/NTLHMapService/FeatureServer/2",2),M("http://58.221.115.18:6080/arcgis/rest/services/NTLH/NTLHMapService/FeatureServer/3",3),M("http://58.221.115.18:6080/arcgis/rest/services/NTLH/NTLHMapService/FeatureServer/4",4),M("http://58.221.115.18:6080/arcgis/rest/services/NTLH/NTLHMapService/FeatureServer/1",1),S.when(function(){var e=new d({titleVisible:!0,view:S,nextBasemap:w});S.ui.add(e,"top-right")}),S.watch("zoom",function(e){T.visible=e>=4}),S.when(function(){S.on("click",function(e){S.hitTest(e.screenPoint).then(function(e){if(e.results.length>0&&e.results[0].graphic){var r=e.results[0].graphic,n=r.attributes.layerid,i=r.attributes,a={};switch(n){case 1:a={"编码":i.CODE,"品种":i.CATEGORY,"胸径":i.DIAMETER,"冠幅":i.CROWN,"地径":i.GROUNDDIAM,"备注":i.REMARKS,"树高":i.HEIGHT,"管护主体":i.GHZT};break;case 2:a={"编码":i.CODE,"品种":i.CATEGORY,"胸径":i.DIAMETER,"冠幅":i.CROWN,"地径":i.GROUNDDIAM,"备注":i.REMARKS,"树池":i.TREEPOOLAR,"树高":i.HEIGHT,"半径":i.RADIUS,"管护主体":i.GHZT};break;case 3:a={"要素名称":i.YSMC,"要素代码":i.YSDM,"比例尺":i.SCALE,"测绘日期":i.CHDATE,"别名":i.LHNAME,"高度":i.HIGH,"备注":i.REMARKS,"管护主体":i.GHZT};break;case 4:a={"要素名称":i.YSMC,"要素代码":i.YSDM,"比例尺":i.SCALE,"测绘日期":i.CHDATE,"别名":i.LHNAME,"胸径":i.XJ,"地径":i.DJ,"蓬径":i.PJ,"高度":i.HIGH,"生长状况":i.SZZK,"备注":i.REMARKS,"管护主体":i.GHZT};break;case 5:a={"编码":i.CODE,"品种":i.CATEGORY,"冠幅":i.CROWN,"备注":i.REMARKS,"地径":i.GROUNDDIAM,"胸径":i.DIAMETER,"管护主体":i.GHZT};break;default:a={}}t.object=a,t.visible=!0}})})})})},apiback:function(){window.api&&api.closeWin()}}},p=l,f=(r("3a71"),r("2877")),b=Object(f["a"])(p,n,i,!1,null,"01cf1872",null),v=b.exports,d=r("6912");Object(d["a"])(v)}});